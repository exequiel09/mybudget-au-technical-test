<main>
  <section class="container" aria-labelledby="task-title">
    <h2 id="task-title">{{ task().title }}</h2>

    <mbau-status-badge [status]="task().status" />

    <p class="mt-3">{{ task().description }}</p>

    <span>Created on {{ task().created_at | date : 'MMM d, y, h:mm a' }}</span>

    <div class="d-flex justify-content-end mt-3">
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-outline-secondary">Edit</button>
        <button
          type="button"
          class="btn btn-outline-secondary"
          (click)="showConfirmationModal()"
        >
          Delete
        </button>
      </div>
    </div>
  </section>
</main>

<dialog class="border-1 border-secondary-subtle rounded" #confirmDialog>
  <p>Are you sure you want to delete this task?</p>

  <div class="d-flex gap-2 justify-content-end">
    <button type="button" class="btn btn-danger" (click)="handleDelete()">
      Yes
    </button>

    <button
      type="button"
      class="btn btn-outline-secondary"
      (click)="confirmDialog.close()"
    >
      No
    </button>
  </div>
</dialog>
